(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4011],{52430:function(e,t,n){Promise.resolve().then(n.bind(n,66383))},47907:function(e,t,n){"use strict";var r=n(15313);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},66383:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(57437),a=n(47907),c=n(2265),i=n(7908),o=n(63411),s=n.n(o),l={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function u(e){var t=function(e){if("number"==typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return l[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},m=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var a=document.createElement("style");document.head.appendChild(a);var c=a.sheet,i="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return c&&c.insertRule(i,0),r}("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale"),p=function(e){var t=e.loading,n=e.color,r=void 0===n?"#000000":n,a=e.speedMultiplier,i=void 0===a?1:a,o=e.cssOverride,s=e.height,l=void 0===s?35:s,p=e.width,h=void 0===p?4:p,x=e.radius,v=void 0===x?2:x,y=e.margin,b=void 0===y?2:y,g=f(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),w=d({display:"inherit"},void 0===o?{}:o),j=function(e){return{backgroundColor:r,width:u(h),height:u(l),margin:u(b),borderRadius:u(v),display:"inline-block",animation:"".concat(m," ").concat(1/i,"s ").concat(.1*e,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return void 0===t||t?c.createElement("span",d({style:w},g),c.createElement("span",{style:j(1)}),c.createElement("span",{style:j(2)}),c.createElement("span",{style:j(3)}),c.createElement("span",{style:j(4)}),c.createElement("span",{style:j(5)})):null},h=n(38687);function x(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),[n,o]=(0,c.useState)(""),[l,u]=(0,c.useState)(!1),[d,f]=(0,c.useState)(""),[m,x]=(0,c.useState)(!1),[v,y]=(0,c.useState)(""),b="https://discord.com/oauth2/authorize?client_id=1219938115016458331&response_type=code&redirect_uri=https%3A%2F%2Fdooboo.online%3A3001%2Foauth2&scope=email+identify+guilds".concat("","&&prompt=none"),g=(0,c.useCallback)(e=>{o(e.target.value)},[n]),w=(0,c.useCallback)(async()=>{let{data:e}=await i.Z.post("".concat(h.oE,"/auth/check-nickname"),{nickname:n}),{isAvailable:t,message:r}=e;t?f("사용 가능한 닉네임입니다."):f(r),x(t)},[]);(0,c.useEffect)(()=>{let e=t.get("accessToken");y(e||""),e||(window.location.href=b)},[]),(0,c.useEffect)(()=>{w()},[w,n]),(0,c.useEffect)(()=>{d||f("중복 시 밑에 경고 메세지")},[d]);let j=async()=>{if(!m)return;u(!0);let t=await i.Z.post("".concat(h.oE,"/auth/register"),{nickname:n,accessToken:v});u(!1);let{data:r}=t;r?(localStorage.setItem("token",v),await s().fire({title:"가입되었습니다!",text:"ㄱㄱㄱ",icon:"success",confirmButtonText:"확인"})):await s().fire({title:"가입에 실패하였습니다",text:"관리자에게 문의하세요",icon:"error",confirmButtonText:"확인"}),e.push("/")};return(0,r.jsxs)("div",{className:"flex justify-center",children:[(0,r.jsx)("div",{className:"".concat(l?"flex":"hidden"," absolute min-w-full min-h-full top-0 left-0 justify-center items-center z-10 bg-white bg-opacity-60"),children:(0,r.jsx)(p,{color:"#36d7b7"})}),(0,r.jsx)("div",{className:"min-w-[900px] bg-[url('/images/tofu.webp')] isolate relative bg-cover min-h-lvh flex flex-col items-center text-center text-black after:bg-white after:opacity-40 after:content-[''] after:absolute after:-z-10 after:inset-0",children:(0,r.jsxs)("div",{className:"full-center items-center flex flex-col",children:[(0,r.jsx)("div",{className:"py-10 w-full text-4xl",children:(0,r.jsxs)("div",{className:"px-10 flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"flex items-center pb-1",children:[(0,r.jsx)("div",{className:"flex items-center mr-1 min-w-28 justify-center",children:"닉네임"}),(0,r.jsx)("input",{className:"flex border-2 rounded-md border-blue-200 text-xl p-1",type:"text",value:n,onChange:g})]}),(0,r.jsx)("div",{className:"text-2xl ".concat(m?"text-cyan-50":"text-red-800"),children:d}),(0,r.jsx)("div",{className:"text-xl text-red-800 text-red-800",children:"* 닉네임은 2~16자, 영어,한글만 가능합니다. (자음,모음 불가능)"})]})}),(0,r.jsx)("button",{className:"duration-300 text-5xl border-2 rounded-xl w-56 flex justify-center items-center bg-gradient-to-r pt-2 ".concat(m?"cursor-pointer shadow-md shadow-blue-400 text-white from-cyan-500 to-blue-500":"cursor-no-drop text-gray-400 from-gray-600 to-gray-600"),onClick:()=>j(),children:"가입하기"})]})})]})}},38687:function(e,t,n){"use strict";n.d(t,{LJ:function(){return a},oE:function(){return r}});let r="https://dooboo.online:3001",a="/images/question_mark.webp"}},function(e){e.O(0,[9461,7908,2971,8069,1744],function(){return e(e.s=52430)}),_N_E=e.O()}]);