(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4935],{35337:function(e,t,n){Promise.resolve().then(n.bind(n,7047))},47907:function(e,t,n){"use strict";var a=n(15313);n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})},41231:function(e,t,n){"use strict";let a;n.d(t,{Z:function(){return c}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o=new Uint8Array(16),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));var c=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();let c=(e=e||{}).random||(e.rng||function(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)})();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=c[e];return t}return function(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}(c)}},7047:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(57437),r=n(10243),o=n(2265),s=n(63411),c=n.n(s),l=n(605);function u(e){let{handleRefreshMonsterList:t}=e,[n,s]=(0,o.useState)(""),[u,i]=(0,o.useState)(0),[d,m]=(0,o.useState)(0),[f,p]=(0,o.useState)(0),[h,b]=(0,o.useState)(0),[y,g]=(0,o.useState)(""),v=()=>{let e="";return y?n.length<2?e="이름을 입력하세요. 최소 2자":u<=0?e="체력을 0보다 높게 설정하세요.":f<0?e="0골드 아래로 입력 불가":d<1?e="경험치는 최소 1이어야합니다":(h<1&&(e="무게는 최소 1이어야 합니다."),e):e="이미지를 등록하세요."},x=async()=>{let e=v();if(e)return c().fire({title:e,text:"모든 정보를 입력하세요.",icon:"error",confirmButtonText:"확인"});let a=new FormData;a.append("thumbnail",y),Object.entries({name:n,hp:u,experience:d,gold:f,weight:h,thumbnail:y}).forEach(e=>{let[t,n]=e;"thumbnail"!==t&&a.append(t,n)});let{monster:r}=await (0,l.AJ)(a);await c().fire({title:"신규 몬스터가 등록되었습니다",text:r.name,icon:"success",confirmButtonText:"확인"}),s(""),i(0),m(0),p(0),b(0),g(""),t()};return(0,a.jsxs)(r.Card,{color:"transparent",shadow:!1,children:[(0,a.jsx)(r.Typography,{variant:"h4",color:"blue-gray",children:"몬스터 추가"}),(0,a.jsxs)("form",{className:"mt-8 mb-2 w-80 max-w-screen-lg sm:w-96",onSubmit:x,children:[(0,a.jsxs)("div",{className:"mb-1 flex flex-col gap-3",children:[(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"몬스터 이름"}),(0,a.jsx)(r.Input,{value:n,onChange:e=>{var t;return s(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},size:"md",placeholder:"몬스터이름...",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"체력"}),(0,a.jsx)(r.Input,{value:u,type:"number",onChange:e=>{var t;return i(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},size:"md",placeholder:"100",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"획득 경험치"}),(0,a.jsx)(r.Input,{value:d,onChange:e=>{var t;return m(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},type:"number",size:"md",placeholder:"5",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"획득 골드"}),(0,a.jsx)(r.Input,{value:f,type:"number",onChange:e=>{var t;return p(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},size:"md",placeholder:"10",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"무게"}),(0,a.jsx)(r.Input,{value:h,onChange:e=>{var t;return b(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},size:"md",type:"number",placeholder:"100",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"이미지 업로드"}),(0,a.jsx)(r.Input,{onChange:e=>{g(e.target.files[0])},type:"file",size:"md",placeholder:"name@mail.com",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}})]}),(0,a.jsx)(r.Button,{className:"mt-6 text-md",size:"sm",fullWidth:!0,onClick:()=>x(),children:"등록"})]})]})}var i=n(47907),d=n(40874),m=n(43951);function f(e){let{selectedMonster:t,handleClose:n}=e,[s,u]=(0,o.useState)(""),[i,d]=(0,o.useState)(0),[f,p]=(0,o.useState)(0),[h,b]=(0,o.useState)(0),[y,g]=(0,o.useState)(0);(0,o.useEffect)(()=>{u(t.name),d(t.hp),p(t.experience),b(t.gold),g(t.weight)},[t]);let v=()=>{let e="";return s.length<2?e="이름을 입력하세요. 최소 2자":i<=0?e="체력을 0보다 높게 설정하세요.":h<0?e="0골드 아래로 입력 불가":f<1?e="경험치는 최소 1이어야합니다":(y<1&&(e="무게는 최소 1이어야 합니다."),e)},x=async()=>{let e=v();if(e)return c().fire({title:e,text:"모든 정보를 입력하세요.",icon:"error",confirmButtonText:"확인"});let a={_id:t._id,name:s,hp:i,experience:f,gold:h,weight:y},{monster:r}=await (0,l.MC)(a);n(!0),u(""),d(0),p(0),b(0),g(0),await c().fire({title:"수정되었습니다",text:r.name,icon:"success",confirmButtonText:"확인"})};return(0,a.jsxs)(r.Card,{color:"transparent",shadow:!1,children:[(0,a.jsx)(r.Typography,{variant:"h4",color:"blue-gray",children:"몬스터 수정"}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("img",{src:(0,m.Z)(t.thumbnail)})}),(0,a.jsxs)("form",{className:"mt-8 mb-2 w-full max-w-screen-lg",onSubmit:x,children:[(0,a.jsxs)("div",{className:"mb-1 flex flex-col gap-3",children:[(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"몬스터 이름"}),(0,a.jsx)(r.Input,{value:s,onChange:e=>{var t;return u(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},size:"md",placeholder:"몬스터이름...",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"체력"}),(0,a.jsx)(r.Input,{value:i,type:"number",onChange:e=>{var t;return d(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},size:"md",placeholder:"100",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"획득 경험치"}),(0,a.jsx)(r.Input,{value:f,onChange:e=>{var t;return p(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},type:"number",size:"md",placeholder:"5",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"획득 골드"}),(0,a.jsx)(r.Input,{value:h,type:"number",onChange:e=>{var t;return b(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},size:"md",placeholder:"10",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),(0,a.jsx)(r.Typography,{variant:"h6",color:"blue-gray",className:"-mb-3",children:"무게"}),(0,a.jsx)(r.Input,{value:y,onChange:e=>{var t;return g(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},size:"md",type:"number",placeholder:"100",className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}})]}),(0,a.jsx)(r.Button,{className:"mt-6 text-md",size:"sm",fullWidth:!0,onClick:()=>x(),children:"수정"})]})]})}var p=(0,o.forwardRef)(function(e,t){let{refreshMonsters:n}=e,[s,c]=(0,o.useState)(!1),[l,u]=(0,o.useState)(),i=()=>{c(!s)};return(0,o.useImperativeHandle)(t,()=>({openDialog:e=>{u(e),i()}})),(0,a.jsx)(r.Dialog,{open:s,handler:i,children:(0,a.jsx)(r.DialogBody,{className:"h-[42rem] overflow-scroll",children:(0,a.jsx)(f,{selectedMonster:l,handleClose:e=>{c(!1),e&&n()}})})})}),h=n(38687);let b=["이미지","name","experience","hp","gold","weight",""];var y=(0,o.forwardRef)(function(e,t){let{customCss:n}=e,s=(0,i.useRouter)(),[c,u]=(0,o.useState)([]),[m,f]=(0,o.useState)(),y=(0,o.useRef)(null),g=e=>{s.push("/admindooboo/monster/edit/".concat(e._id))},v=(0,o.useCallback)(async()=>{let{monsters:e,total:t,totalPages:n,page:a}=await (0,l.Bp)();u(e.map(e=>{let t={...e};return t.thumbnail="".concat(h.oE,"/").concat(t.thumbnail),t})),f({total:t,totalPages:n,page:a})},[]);return(0,o.useEffect)(()=>{v()},[]),(0,o.useImperativeHandle)(t,()=>({refresh:()=>{v()}})),(0,a.jsxs)(r.Card,{className:"h-full w-full ".concat(n),children:[(0,a.jsx)(p,{ref:y,refreshMonsters:v}),(0,a.jsx)(r.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:(0,a.jsxs)("div",{className:"mb-4 flex flex-col justify-between gap-8 md:flex-row md:items-center",children:[(0,a.jsx)("div",{className:"text-2xl",children:"등록된 몬스터 목록"}),(0,a.jsxs)("div",{className:"flex w-full shrink-0 gap-1 md:w-max",children:[(0,a.jsx)("div",{className:"w-full md:w-72",children:(0,a.jsx)(r.Input,{label:"Search"})}),(0,a.jsx)(r.Button,{className:"flex items-center gap-3",size:"sm",children:"검색준비중"})]})]})}),(0,a.jsx)(r.CardBody,{className:"overflow-scroll px-0",children:(0,a.jsxs)("table",{className:"w-full min-w-max table-auto text-left",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:b.map(e=>(0,a.jsx)("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-1",children:(0,a.jsx)("div",{className:"p-1",children:e})},e))})}),(0,a.jsxs)("tbody",{children:[(0,a.jsx)("tr",{}),c&&c.map((e,t)=>{let n=t===c.length-1?"p-1":"p-1 border-b border-blue-gray-50";return(0,a.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,a.jsx)("td",{className:"".concat(n),children:(0,a.jsx)("img",{src:e.thumbnail,className:"w-20 h-20 border border-blue-gray-50 bg-blue-gray-50/50 object-contain"})}),(0,a.jsx)("td",{className:n,children:(0,a.jsx)("div",{children:e.name})}),(0,a.jsx)("td",{className:n,children:(0,a.jsx)("div",{children:e.experience})}),(0,a.jsx)("td",{className:n,children:(0,a.jsx)("div",{children:e.hp})}),(0,a.jsx)("td",{className:n,children:(0,a.jsx)("div",{children:e.gold})}),(0,a.jsx)("td",{className:n,children:(0,a.jsx)("div",{children:e.weight})}),(0,a.jsx)("td",{className:"".concat(n),children:(0,a.jsx)("div",{className:"cursor-pointer",onClick:()=>g(e),children:"수정"},e._id)})]},(0,d.Z)())})]})]})}),m&&(0,a.jsxs)(r.CardFooter,{className:"flex items-center justify-between border-t border-blue-gray-50 p-1",children:[(0,a.jsx)(r.Button,{variant:"outlined",size:"sm",children:"Previous"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:Array(m.totalPages).fill(1).map((e,t)=>(0,a.jsx)(r.IconButton,{variant:"outlined",size:"sm",children:t+1},(0,d.Z)()))}),(0,a.jsx)(r.Button,{variant:"outlined",size:"sm",children:"Next"})]})]})});function g(){let e=(0,o.useRef)(null);return(0,a.jsx)(r.Card,{children:(0,a.jsx)(r.CardBody,{children:(0,a.jsxs)("div",{className:"grid justify-center grid-cols-10 gap-1",children:[(0,a.jsx)(y,{customCss:"col-span-7",ref:e}),(0,a.jsx)(r.Card,{className:"col-span-3",children:(0,a.jsx)(r.CardBody,{children:(0,a.jsx)(u,{handleRefreshMonsterList:()=>{var t;null==e||null===(t=e.current)||void 0===t||t.refresh()}})})})]})})})}},38687:function(e,t,n){"use strict";n.d(t,{LJ:function(){return r},oE:function(){return a}});let a="https://dooboo.online:3001",r="/images/question_mark.webp"},605:function(e,t,n){"use strict";n.d(t,{ch:function(){return u},$b:function(){return z},PJ:function(){return N},mp:function(){return O},nw:function(){return R},in:function(){return g},AS:function(){return U},V3:function(){return _},Kd:function(){return H},T7:function(){return x},Oz:function(){return v},wS:function(){return M},yJ:function(){return q},Gs:function(){return I},_t:function(){return P},YK:function(){return D},DJ:function(){return c},OY:function(){return h},sI:function(){return b},QN:function(){return y},ME:function(){return m},Bp:function(){return f},iX:function(){return S},VR:function(){return C},aM:function(){return l},fY:function(){return V},Tp:function(){return j},DG:function(){return Z},rJ:function(){return A},E:function(){return p},AJ:function(){return i},hv:function(){return L},je:function(){return w},O:function(){return J},RD:function(){return T},MC:function(){return d},gE:function(){return k},uw:function(){return E},ZR:function(){return B}});var a=n(7908),r=n(63411),o=n.n(r);let s=a.Z.create({baseURL:"https://dooboo.online:3001"});async function c(){let{data:e}=await s.get("/auth/jwt");return e}async function l(){let{data:e}=await s.get("/user/me");return e}async function u(e){let{data:t}=await s.get("/user/battle",{params:{name:e}});return t}async function i(e){let{data:t}=await s.post("/monster/create",e,{headers:{"Content-Type":"multipart/form-data"},transformRequest:[()=>e]});return t}async function d(e){let{data:t}=await s.put("/monster/update",e);return t}async function m(e){let{data:t}=await s.get("/monster/".concat(e));return t}async function f(){let{data:e}=await s.get("/monster/list");return e}async function p(e){let{data:t}=await s.post("/map/create",e);return t}async function h(e){let{data:t}=await s.get("/map/".concat(e));return t}async function b(){let{data:e}=await s.get("/map/list");return e}async function y(){let{data:e}=await s.get("/map/list-name");return e}async function g(e){let{data:t}=await s.delete("/map/delete",{data:{_id:e}});return t}async function v(){let{data:e}=await s.get("/item/base-weapon/list");return e}async function x(e){let{data:t}=await s.get("/item/base-weapon/".concat(e));return t}async function j(e){let{data:t}=await s.post("/item/base-weapon",e);return t}async function w(e){let{data:t}=await s.put("/item/base-weapon/".concat(e._id),e);return t}async function N(e){let{data:t}=await s.delete("/item/base-weapon/".concat(e));return t}async function C(){let{data:e}=await s.get("/character/rank");return e}async function S(){let{data:e}=await s.get("/character/inventory");return e}async function P(){let{data:e}=await s.get("/item/drop/list");return e}async function I(e){let{data:t}=await s.get("/item/drop/".concat(e));return t}async function T(e){let{data:t}=await s.put("/item/drop/".concat(e._id),e);return t}async function z(e){let{data:t}=await s.post("/item/drop",e);return t}async function R(e){let{data:t}=await s.delete("/item/drop/".concat(e));return t}async function B(e){let{data:t}=await s.post("/item/upload",{},{headers:{"Content-Type":"multipart/form-data"},transformRequest:[()=>e]});return t}async function _(e){let{data:t}=await s.post("/item/equip/".concat(e));return t}async function E(e){let{data:t}=await s.post("/item/unequip/".concat(e));return t}async function k(e){let{data:t}=await s.post("/item/sell",{itemIds:e});return t}async function D(e){let{data:t}=await s.get("/item/enhance-price/".concat(e));return t}async function U(e,t){let{data:n}=await s.post("/item/enhance/".concat(e),t);return n}async function Z(e){let{data:t}=await s.post("/board/create",e);return t}async function J(e,t){let{data:n}=await s.put("/board/edit/".concat(e),t);return n}async function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1},{data:n}=await s.post("/board/list",{condition:e,opts:t});return n}async function q(e){let{data:t}=await s.post("/board/".concat(e));return t}async function A(e,t){let{data:n}=await s.post("/board/comment/create/".concat(e),t);return n}async function O(e){let{data:t}=await s.delete("/board/delete/".concat(e));return t}async function V(e,t){let{data:n}=await s.post("/item/auction/add/".concat(e),t);return n}async function H(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{data:n}=await s.post("/item/auction/list",{condition:e,opts:t});return n}async function L(e){let{data:t}=await s.post("/item/auction/purchase/".concat(e));return t}s.interceptors.request.use(e=>{let t=localStorage.getItem("token");return e.headers.Authorization=t,e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,async e=>{let{code:t,message:n,response:a}=e,{status:r,data:s}=a||{};return await o().fire({title:t,text:(null==s?void 0:s.message)||n,icon:"error",confirmButtonText:"확인"}),Promise.reject(e)})},43951:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(38687);function r(e){return!e||e.includes(a.oE)?e:"".concat(a.oE,"/").concat(e)}},40874:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(41231);function r(){return(0,a.Z)()}}},function(e){e.O(0,[6384,9461,8694,7908,2971,8069,1744],function(){return e(e.s=35337)}),_N_E=e.O()}]);