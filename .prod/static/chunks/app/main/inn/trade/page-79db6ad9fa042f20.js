(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6702],{24192:function(e,t,a){Promise.resolve().then(a.bind(a,78115))},47907:function(e,t,a){"use strict";var n=a(15313);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},78115:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var n=a(57437),r=a(10243),i=a(2265),c=a(47907),s=a(63411),o=a.n(s),l=a(605),u=a(40874),d=a(43951),f=a(21471);function x(){let[e,t]=(0,i.useState)([]),[a,s]=(0,i.useState)(),[x,p]=(0,i.useState)(["axe","sword","dagger","bow","blunt","spear"].map(e=>({name:e,isSelected:!0}))),[m,h]=(0,i.useState)(),[b,w]=(0,i.useState)();(0,c.useRouter)();let g=e=>{},v=async(e,n)=>{let r={...n},i={...e};r.page||(r.page=1);let c=x.filter(e=>e.isSelected).map(e=>e.name);c.length>0&&(i={...i,"snapshot.weaponType":{$in:c}}),a&&(i={...i,"snapshot.name":{$regex:a}});let s=await (0,l.Kd)(i,r);t(s.auctions),h({page:s.page,totalPages:s.totalPages,total:s.total}),w({condition:i,opts:r})},y=(e,t)=>{let a=[...x];a[t].isSelected=e.target.checked,p(a),v()},j=async e=>{let{isConfirmed:t}=await o().fire({title:"정말로 구매하시겠습니까?",text:"",confirmButtonText:"예",denyButtonText:"닫기",showDenyButton:!0});t&&(await (0,l.hv)(e),await o().fire({title:"구매 성공!",icon:"success",denyButtonText:"닫기"}),v())};return(0,i.useEffect)(()=>{v()},[]),(0,n.jsx)("div",{children:(0,n.jsxs)(r.Card,{className:"rounded p-[8px] ff-ba flex flex-col gap-[4px]",children:[(0,n.jsx)("div",{children:"거래소 아이템 리스트"}),(0,n.jsxs)("div",{className:"flex flex-col gap-[2px]",children:[(0,n.jsxs)("div",{className:"flex gap-[2px]",children:[(0,n.jsx)("input",{className:"border border-gray-600 focus-visible:outline-0 ff-wavve",onBlur:e=>s(e.target.value)}),(0,n.jsx)("div",{className:"cursor-pointer bg-ruliweb text-white px-[4px] py-[1px]",onClick:()=>{v({},{sort:{createdAt:-1}})},children:"등록순"}),(0,n.jsx)("div",{className:"cursor-pointer bg-ruliweb text-white px-[4px] py-[1px]",onClick:()=>{v({},{sort:{gold:1}})},children:"가격순"}),(0,n.jsx)("div",{className:"cursor-pointer bg-ruliweb text-white px-[4px] py-[1px]",onClick:()=>{v({},{sort:{"snapshot.iGrade":-1}})},children:"희귀도순"}),(0,n.jsx)("div",{className:"cursor-pointer bg-ruliweb text-white px-[4px] py-[1px]",onClick:()=>{v({},{sort:{"snapshot.iLevel":-1}})},children:"아이템레벨순"})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"flex items-center gap-[8px]",children:x.map((e,t)=>(0,n.jsxs)("label",{className:"flex items-center cursor-pointer",onClick:()=>g(e.name),children:[(0,n.jsx)("input",{type:"checkbox",checked:e.isSelected,onChange:e=>y(e,t)}),(0,f.Iu)(e.name)]},(0,u.Z)()))})})]}),(0,n.jsxs)("div",{children:[0===e.length&&(0,n.jsx)("div",{children:"검색결과가 없습니다"}),m&&(0,n.jsxs)("div",{children:[m.total,"개의 검색 결과 [",m.page,"/",m.totalPages," 페이지]"]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-[4px]",children:e.map(e=>{let{weapon:t}=e;if(t)return(0,n.jsxs)("div",{className:"flex flex-col relative bg-[#555d62ed] text-[14px] border-2 border-gray-400 w-[300px] text-white rounded shadow-md group",style:{borderColor:(0,f.oK)(t.iGrade)},children:[(0,n.jsxs)("div",{className:"p-[4px]",children:[(0,n.jsxs)("div",{className:"gap-[4px] flex flex-col absolute z-100 bg-gray-400 bg-opacity-55 overflow-hidden w-full h-full left-0 top-0 items-center justify-center invisible group-hover:visible",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-[2px] items-center w-full bg-yellow-700 justify-center py-[5px]",children:[(0,n.jsx)("img",{src:"/images/icon_currency.png",className:"w-[24px]"}),(0,n.jsx)("div",{className:"text-[20px] ff-wavve ",children:e.gold.toLocaleString()})]}),(0,n.jsx)("div",{className:"flex items-center justify-center bg-green-400 text-white cursor-pointer text-[20px] px-[12px] py-[4px] ff-wavve rounded",onClick:()=>j(e._id),children:"구매하기"})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-[2px] items-center",children:[(0,n.jsx)("img",{src:"/images/icon_currency.png",className:"w-[24px]"}),(0,n.jsx)("div",{children:e.gold.toLocaleString()})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:e.owner.nickname})]})]}),(0,n.jsxs)("div",{className:"text-[16px] flex items-stretch",children:[(0,n.jsx)("div",{className:"w-[40px] h-[40px] min-w-[40px] min-h-[40px] border-2 p-[2px] flex items-center justify-center border-r-0 bg-blue-gray-500",style:{borderColor:(0,f.oK)(t.iGrade)},children:(0,n.jsx)("img",{className:"w-full h-full rounded overflow-hidden",src:(0,d.Z)(t.thumbnail)})}),(0,n.jsxs)("div",{className:"w-full border-2 border-l-0 flex items-center pl-[4px] ff-wavve text-[20px] ".concat("normal"===t.iGrade?"text-dark-blue":""),style:{borderColor:(0,f.oK)(t.iGrade),background:(0,f.oK)(t.iGrade)},children:[t.name,t.starForce>0?" [+".concat(t.starForce,"]"):""]})]}),(0,n.jsx)("div",{className:"mt-[4px]",children:(0,n.jsx)("div",{className:"flex items-center flex-wrap gap-[1px]",children:Array(t.maxStarForce).fill(1).map((e,a)=>{let r=t.starForce>a;return(0,n.jsx)("div",{className:"w-[16px] h-[16px]",children:(0,n.jsx)("img",{className:"w-full h-full",src:"/images/star_".concat(r?"on":"off",".png")})},(0,u.Z)())})})}),(0,n.jsxs)("div",{className:"mt-[5px] flex items-center w-full gap-[2px] flex-wrap",children:[(0,n.jsx)("div",{className:"flex items-center justify-center px-[4px] py-[1px] bg-white text-gray-800 ff-ba font-bold border-dotted border",children:(0,f.Iu)(t.weaponType)||"무기종류없음"}),(0,n.jsx)("div",{className:"flex items-center justify-center px-[4px] py-[1px] bg-white ".concat("normal"===t.iGrade?"text-black":"text-white"," ff-ba font-bold border-dotted border"),style:{background:(0,f.oK)(t.iGrade)},children:(0,f.Iu)(t.iGrade)}),(0,n.jsxs)("div",{className:"flex items-center justify-center px-[4px] py-[1px] bg-white text-gray-800 ff-ba font-bold border-dotted border",children:["iLv.",t.iLevel]})]}),(0,n.jsxs)("div",{className:"mt-[5px]",children:[(0,n.jsx)("div",{className:"border-b border-b-gray-400",children:"기본 속성"}),t.damageOfPhysical>0&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"물리 피해"}),(0,n.jsx)("div",{children:t.damageOfPhysical})]}),t.damageOfFire>0&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"화염 피해"}),(0,n.jsx)("div",{children:t.damageOfFire})]}),t.damageOfLightning>0&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"번개 피해"}),(0,n.jsx)("div",{children:t.damageOfLightning})]}),t.damageOfCold>0&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"냉기 피해"}),(0,n.jsx)("div",{children:t.damageOfCold})]}),t.criticalRate>0&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"치명타 확률"}),(0,n.jsx)("div",{children:t.criticalRate})]}),t.criticalMultiplier>0&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"치명타 배율"}),(0,n.jsx)("div",{children:t.criticalMultiplier})]})]}),Object.keys(t.additionalAttributes||{}).length>0&&(0,n.jsxs)("div",{className:"mt-[5px]",children:[(0,n.jsx)("div",{className:"text-[#ffea00] border-b border-b-gray-200",children:"추가 속성"}),Object.keys(t.additionalAttributes).map(e=>{if(!t.additionalAttributes)return;let a=t.additionalAttributes[e];return(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:(0,f.Iu)(e)}),(0,n.jsx)("div",{children:a})]},(0,u.Z)())})]})]}),(0,n.jsx)("div",{className:"w-full bg-gray-800 text-white p-[4px] py-[2px] mt-auto",children:(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{className:"ff-wavve",children:(0,f.F6)(e.createdAt)}),(0,n.jsx)("div",{className:"ff-wavve text-gray-300",children:(0,f.W)(e.createdAt)})]})})]},(0,u.Z)())})}),m&&(0,n.jsx)("div",{className:"mt-3 flex justify-center",children:(0,n.jsx)("div",{className:"flex gap-[2px]",children:Array(m.totalPages).fill(1).map((e,t)=>(0,n.jsx)("div",{onClick:()=>v({...b.condition},{...b.opts,page:t+1}),className:"flex justify-center items-center w-[24px] h-[24px] text-[12px] font-bold ".concat(t+1===m.page?"border text-[#5795dd]":""," hover:text-[#5795dd] hover:border"),children:t+1},(0,u.Z)()))})})]})]})})}},38687:function(e,t,a){"use strict";a.d(t,{LJ:function(){return r},oE:function(){return n}});let n="https://dooboo.online:3001",r="/images/question_mark.webp"},605:function(e,t,a){"use strict";a.d(t,{ch:function(){return l},$b:function(){return G},PJ:function(){return A},mp:function(){return B},nw:function(){return I},in:function(){return w},AS:function(){return H},V3:function(){return S},Kd:function(){return K},T7:function(){return v},Oz:function(){return g},wS:function(){return W},yJ:function(){return L},Gs:function(){return _},_t:function(){return E},YK:function(){return T},DJ:function(){return s},OY:function(){return m},sI:function(){return h},QN:function(){return b},ME:function(){return f},Bp:function(){return x},iX:function(){return N},VR:function(){return D},aM:function(){return o},fY:function(){return F},Tp:function(){return y},DG:function(){return O},rJ:function(){return Z},E:function(){return p},AJ:function(){return u},hv:function(){return Y},je:function(){return j},O:function(){return P},RD:function(){return k},MC:function(){return d},gE:function(){return M},uw:function(){return R},ZR:function(){return C}});var n=a(7908),r=a(63411),i=a.n(r);let c=n.Z.create({baseURL:"https://dooboo.online:3001"});async function s(){let{data:e}=await c.get("/auth/jwt");return e}async function o(){let{data:e}=await c.get("/user/me");return e}async function l(e){let{data:t}=await c.get("/user/battle",{params:{name:e}});return t}async function u(e){let{data:t}=await c.post("/monster/create",e,{headers:{"Content-Type":"multipart/form-data"},transformRequest:[()=>e]});return t}async function d(e){let{data:t}=await c.put("/monster/update",e);return t}async function f(e){let{data:t}=await c.get("/monster/".concat(e));return t}async function x(){let{data:e}=await c.get("/monster/list");return e}async function p(e){let{data:t}=await c.post("/map/create",e);return t}async function m(e){let{data:t}=await c.get("/map/".concat(e));return t}async function h(){let{data:e}=await c.get("/map/list");return e}async function b(){let{data:e}=await c.get("/map/list-name");return e}async function w(e){let{data:t}=await c.delete("/map/delete",{data:{_id:e}});return t}async function g(){let{data:e}=await c.get("/item/base-weapon/list");return e}async function v(e){let{data:t}=await c.get("/item/base-weapon/".concat(e));return t}async function y(e){let{data:t}=await c.post("/item/base-weapon",e);return t}async function j(e){let{data:t}=await c.put("/item/base-weapon/".concat(e._id),e);return t}async function A(e){let{data:t}=await c.delete("/item/base-weapon/".concat(e));return t}async function D(){let{data:e}=await c.get("/character/rank");return e}async function N(){let{data:e}=await c.get("/character/inventory");return e}async function E(){let{data:e}=await c.get("/item/drop/list");return e}async function _(e){let{data:t}=await c.get("/item/drop/".concat(e));return t}async function k(e){let{data:t}=await c.put("/item/drop/".concat(e._id),e);return t}async function G(e){let{data:t}=await c.post("/item/drop",e);return t}async function I(e){let{data:t}=await c.delete("/item/drop/".concat(e));return t}async function C(e){let{data:t}=await c.post("/item/upload",{},{headers:{"Content-Type":"multipart/form-data"},transformRequest:[()=>e]});return t}async function S(e){let{data:t}=await c.post("/item/equip/".concat(e));return t}async function R(e){let{data:t}=await c.post("/item/unequip/".concat(e));return t}async function M(e){let{data:t}=await c.post("/item/sell",{itemIds:e});return t}async function T(e){let{data:t}=await c.get("/item/enhance-price/".concat(e));return t}async function H(e,t){let{data:a}=await c.post("/item/enhance/".concat(e),t);return a}async function O(e){let{data:t}=await c.post("/board/create",e);return t}async function P(e,t){let{data:a}=await c.put("/board/edit/".concat(e),t);return a}async function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1},{data:a}=await c.post("/board/list",{condition:e,opts:t});return a}async function L(e){let{data:t}=await c.post("/board/".concat(e));return t}async function Z(e,t){let{data:a}=await c.post("/board/comment/create/".concat(e),t);return a}async function B(e){let{data:t}=await c.delete("/board/delete/".concat(e));return t}async function F(e,t){let{data:a}=await c.post("/item/auction/add/".concat(e),t);return a}async function K(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{data:a}=await c.post("/item/auction/list",{condition:e,opts:t});return a}async function Y(e){let{data:t}=await c.post("/item/auction/purchase/".concat(e));return t}c.interceptors.request.use(e=>{let t=localStorage.getItem("token");return e.headers.Authorization=t,e},e=>Promise.reject(e)),c.interceptors.response.use(e=>e,async e=>{let{code:t,message:a,response:n}=e,{status:r,data:c}=n||{};return await i().fire({title:t,text:(null==c?void 0:c.message)||a,icon:"error",confirmButtonText:"확인"}),Promise.reject(e)})},43951:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(38687);function r(e){return!e||e.includes(n.oE)?e:"".concat(n.oE,"/").concat(e)}},40874:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(41231);function r(){return(0,n.Z)()}},21471:function(e,t,a){"use strict";a.d(t,{Ap:function(){return u},F6:function(){return o},Iu:function(){return f},KR:function(){return s},W:function(){return l},dW:function(){return p},oK:function(){return x},qo:function(){return c},r5:function(){return d},v9:function(){return m}});var n=a(42151),r=a.n(n);a(30971);var i=a(84555);let c=e=>{let[t,a]=e;return"".concat(t," ~ ").concat(a)},s=e=>r()(e).format("YYYY-MM-DD HH:mm:ss"),o=e=>r()(e).fromNow(),l=e=>r()(e).format("MM/DD HH:mm:ss"),u=e=>r()(e).format("HH:mm"),d=e=>{if("weapon"===e.iType)return e.weapon;throw Error("Unknown Item Type")},f=e=>{let t=e;switch(e){case"axe":t="도끼";break;case"sword":t="검";break;case"dagger":t="단검";break;case"bow":t="활";break;case"blunt":t="둔기";break;case"spear":t="창";break;case"normal":t="일반";break;case"magic":t="마법";break;case"rare":t="희귀";break;case"epic":t="서사";break;case"INCREASED_DAMAGE":t="피해 증가(%)";break;case"INCREASED_PHYSICAL_DAMAGE":t="물리 피해 증가(%)";break;case"INCREASED_COLD_DAMAGE":t="냉기 피해 증가(%)";break;case"INCREASED_FIRE_DAMAGE":t="화염 피해 증가(%)";break;case"INCREASED_LIGHTNING_DAMAGE":t="번개 피해 증가(%)";break;case"ADDED_PHYSICAL_DAMAGE":t="물리 피해 추가(+)";break;case"ADDED_COLD_DAMAGE":t="냉기 피해 추가(+)";break;case"ADDED_FIRE_DAMAGE":t="화염 피해 추가(+)";break;case"ADDED_LIGHTNING_DAMAGE":t="번개 피해 추가(+)";break;case"ADDED_DAMAGE_WITH_AXE":t="도끼 피해 추가(+)";break;case"ADDED_DAMAGE_WITH_SWORD":t="검 피해 추가(+)";break;case"ADDED_DAMAGE_WITH_DAGGER":t="단검 피해 추가(+)";break;case"ADDED_DAMAGE_WITH_BOW":t="활 피해 추가(+)";break;case"ADDED_DAMAGE_WITH_BLUNT":t="둔기 피해 추가(+)";break;case"ADDED_DAMAGE_WITH_SPEAR":t="창 피해 추가(+)";break;case"INCREASED_DAMAGE_WITH_AXE":t="도끼 피해 증가(%)";break;case"INCREASED_DAMAGE_WITH_SWORD":t="검 피해 증가(%)";break;case"INCREASED_DAMAGE_WITH_DAGGER":t="단검 피해 증가(%)";break;case"INCREASED_DAMAGE_WITH_BOW":t="활 피해 증가(%)";break;case"INCREASED_DAMAGE_WITH_BLUNT":t="둔기 피해 증가(%)";break;case"INCREASED_DAMAGE_WITH_SPEAR":t="창 피해 증가(%)"}return t},x=e=>{let t="#fff";switch(e){case"normal":t="#ece0e0";break;case"magic":t="#0082ff";break;case"rare":t="#fdd125";break;case"epic":t="#6000d2"}return t},p=e=>(0,i.ZP)(e);function m(e,t){let a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),i=r.length,c=new Uint8Array(i);for(;i--;)c[i]=r.charCodeAt(i);return new File([c],t,{type:n})}}},function(e){e.O(0,[6384,9461,6990,8694,7908,7187,2971,8069,1744],function(){return e(e.s=24192)}),_N_E=e.O()}]);